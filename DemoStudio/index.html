<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>RavenDB Demo</title>
    <script src="studio/scripts/jquery-1.10.2.js"></script>
    <link rel="shortcut icon" type='image/x-icon' href="studio/scripts/favicon.ico" />

    <link href="studio/scripts/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="studio/scripts/awesome-bootstrap-checkbox.css" rel="stylesheet" />
    <link href="studio/scripts/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="studio/scripts/styles.css" />
</head>
<body>
    <div id="demoViewModel">
        <div id="mainPane">
            <header id="brandHeader">
                <div id="logoImageId"></div>
                <h1 id="clientDemoLabelId">&nbsp;Client Demo</h1>
            </header>

            <div class="form-group">
                <select class="form-control" data-bind="options: $root.demoCategories, value: currentDemoCategory"></select>
            </div>

            <div data-bind="visible: $root.isDemoCategorySelected">
                <div class="form-group">
                    <select class="form-control" data-bind="options: $root.currentDemos, optionsText: 'DemoDisplayName', value: currentDemo"></select>
                </div>

                <div class="form-group">
                    <input class="form-control" data-bind="textInput: $root.urlstring" />
                </div>

                <div class="form-group">
                    <div data-bind="foreach: $root.currentDemoParameters">
                        <div class="input-group">
                            <div class="input-group-addon" data-bind="text: ParameterName"></div>
                            <input class="form-control" data-bind="visible: ParameterType === 'String', value: ParameterValue, valueUpdate: 'afterkeydown'" type="text" />
                            <input class="form-control" data-bind="visible: ParameterType === 'Number', value: ParameterValue, valueUpdate: 'afterkeydown'" type="number" />
                        </div>
                    </div>
                </div>

                <div class="options">
                    <div class="checkbox checkbox-primary">
                        <input type="checkbox" id="forceJson" data-bind="checked: chkForceJson, click: clickForceJson" /><label for="forceJson">JSON output</label>
                    </div>
                    <div class="checkbox checkbox-primary">
                        <input type="checkbox" id="forceString" data-bind="checked: chkForceString, click: clickForceString" /> <label for="forceString"> STRING output</label>
                    </div>
                    <div class="checkbox checkbox-primary">
                        <input type="checkbox" id="allowFlatten" data-bind="checked: chkAllowFlatten" /> <label for="allowFlatten"> FLATTEN results</label>
                    </div>
                </div>
                <hr />
                <div id="htmlExplDiv" data-bind="html: htmlExpl" style="word-wrap: break-word"></div>
            </div>
            <div class="vbottom">
                <button data-bind="click: runDemo, enable: $root.isDemoCategorySelected" href="#" class="runButton btn btn-primary">Run Demo</button>
                <button data-bind="click: openNewTab, enable: $root.isDemoCategorySelected" href="#" class="runInNewButton btn btn-primary">Run in New Tab...</button>
                <button id="leftCollapse" class="btn btn-default">collapse</button>
            </div>
        </div>

        <div id="codeContainer">
            <div class="overflow">
                <header>
                    <h1><button class="btn btn-default" id="moreCode"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button> Code</h1>
                </header>
                <div id="codediv" class="demo">
                    <div id="codepane">
                        <pre><code class="language-csharp" data-bind="text: htmlCode"></code></pre>
                    </div>
                </div>
            </div>
        </div>

        <div id="resultContainer">
            <div class="overflow">
                <button class="btn btn-default" id="fullResult">full result</button>
                <header>
                    <h1><button id="moreResult" class="btn btn-default"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button> Output</h1>
                </header>
                <div id="resultsDiv" class="demo">
                    <!--HTML-->
                    <div data-bind="visible: isHtml, html: htmlView"></div>

                    <!--SIMPLE JSON-->
                    <div data-bind="visible: isSimpleJson">
                        <table border="1">
                            <thead>
                                <tr data-bind="foreach: columns">
                                    <th data-bind="text: $data"></th>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach: rows">
                                <tr data-bind="foreach: $parent.columns">
                                    <td data-bind="text: $parent[$data]"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="processing" data-bind="visible: inProgress">
            <div id="ajaxloader"></div>
            Please Wait...
        </div>
        <script src="studio/scripts/prism.js"></script>
        <script type="text/javascript" src="/studio/scripts/knockout-3.3.0.js"></script>
        <script type="text/javascript" src="/studio/scripts/lodash.min.js"></script>
        <script type="text/javascript" src="/studio/scripts/require.js" data-main="/studio/scripts/main"></script>
        <script type="text/typescript" src="/studio/scripts/demoViewModel.js"></script>
    </div>
</body>
</html>